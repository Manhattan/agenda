<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:arq="http://java.sun.com/jsf/composite/ezcomp"
                >

    <f:subview id="form-mat-sai-i">
        <p:dialog widgetVar="dlgMatSaiI" resizable="false" styleClass="dialog" header="#{msg.saidaMateriaisItens}" closeOnEscape="true" >
            <p:panel id="dialogPanelMatSaiI" style="margin-right: 0px; width: auto" rendered="#{materialSaidaItensController.centroSelecionado != null}">
                <h:form id="formMatSaiI">
                    <h:panelGrid columns="2">
                        <h:outputText value="#{msg.centroNegocioAbrev}:" style="font-weight: bold" />
                        <h:outputText value="#{msg.periodoSaidas}:" style="font-weight: bold" />
                        <p:inputText value="#{materialSaidaController.centroSelecionado.nomeCompleto}" readonly="true"  style="width: 90%" />
                        <h:panelGroup>
                            <p:calendar  value="#{materialSaidaItensController.dataInicial}" size="11" maxlength="10"  id="dataInicialMatSaiI" onkeypress="AtalhoData(event, this)"
                                         title="#{msg.dataInicial}" pattern="dd/MM/yyyy" pagedate="utilsController.getDate()" locale="pt" mode="popup"
                                         navigator="true" immediate="true"
                                         timeZone="#{initParam['timezone']}" >
                            </p:calendar>
                            <h:outputText value=" a " style="margin-left: 5px; margin-right: 5px" />
                            <p:calendar value="#{materialSaidaItensController.dataFinal}" size="11" maxlength="10"  id="dataFinalMatSaiI" onkeypress="AtalhoData(event, this)"
                                        title="#{msg.dataFinal}" pattern="dd/MM/yyyy" pagedate="utilsController.getDate()" locale="pt" mode="popup"
                                        navigator="true" immediate="true"
                                        timeZone="#{initParam['timezone']}" >
                            </p:calendar>
                        </h:panelGroup>

                        <h:panelGrid columns="2">
                            <h:outputText value="#{msg.numeroDoc}:" style="font-weight: bold" />
                            <h:outputText value="#{msg.material}:" style="font-weight: bold" />

                            <p:inputText value="#{materialSaidaItensController.numeroDoc}" style="width: 80px" />
                            <p:inputText value="#{materialSaidaItensController.insumoCod}" style="width: 80px" />
                        </h:panelGrid>

                        <h:panelGrid columns="2">
                            <h:outputText value="#{msg.especificacao}:" style="font-weight: bold" />
                            <br/>
                            <p:inputText value="#{materialSaidaController.especificacao}" />
                            <p:commandButton value="#{msg.executar}" actionListener="#{materialSaidaItensController.pesquisa()}" update=":form-mat-saiI:formMatSaiI:panelTableMatSaiIPaginador" />
                        </h:panelGrid>

                    </h:panelGrid>
                    <h:panelGroup id="panelTableMatSaiIPaginador" style="margin-right: 0px; width: auto">
                        <table class="referencesmall" style="margin: 0px; width: auto">
                            <tr class="cabecalhoDiscreto">
                                <th align='center'>#{msg.numeroDoc}</th>
                                <th align='center'>#{msg.data}</th>
                                <th align='center'>#{msg.material}</th>
                                <th align='center'>#{msg.especificacao}</th>
                                <th align='center'>#{msg.unidade}</th>
                                <th align='center'>#{msg.quantidade}</th>
                                <th align='center'>#{msg.usuario}</th>
                            </tr>
                            <ui:repeat value="#{materialSaidaItensController.items}" var="item" varStatus="s">
                                <tr>
                                    <td>
                                        <h:outputText value="#{item.numeroDoc}" />
                                    </td>
                                    <td>
                                        <h:outputText value="#{item.dataSaida}" style="margin: 0px 15px 0px 15px" >
                                            <f:convertDateTime locale="pt_BR" timeZone="#{initParam['timezone']}" pattern="dd/MM/yyyy"/>
                                        </h:outputText>
                                    </td>
                                    <td>
                                        <h:outputText value="#{item.insumo.insumo.codigo}"/>
                                    </td>
                                    <td>
                                        <h:outputText value="#{item.insumo.especificacao}"/>
                                    </td>
                                    <td>
                                        <h:outputText value="#{item.unidade}" />
                                    </td>
                                    <td>
                                        <h:outputText value="#{item.quantidade}" />
                                    </td>
                                    <td>
                                        <h:outputText value="#{item.usuario}" />
                                    </td>
                                </tr>
                            </ui:repeat>
                        </table>
                        <arq:paginator id="paginadorMatSaiI" entityBean="#{materialSaidaItensController}" formName=":form-mat-saiI:formMatSaiI:panelTableMatSaiIPaginador" renderedNew="false"/>
                    </h:panelGroup>
                </h:form>
            </p:panel>
        </p:dialog>
    </f:subview>
</ui:composition>